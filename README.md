# DocQuery: Simplify Document Analysis and Studying with Flask
Designed to streamline studying and research tasks, this program allows users to quickly extract key information, summaries, and answers from text documents, enhancing study efficiency and simplifying research tasks.

This project implements a simple document-answering system using Flask, OpenAI's GPT-3 model, and Word documents as the knowledge base. The system allows users to ask questions or requests based on the content of the Word documents, and it provides answers generated by the GPT-3 model.

## Prerequisites
***
*(Optional)* If you will not run the application with the Docker, I recommend creating and activating a virtual environment using the command prompt. `venv` being the path to the virtual environment.
#### For Windows Command Prompt: `venv\Scripts\activate`.
#### For macOS or Linux: `venv\Scripts\Activate.ps1`.
#### For Windows Powershell: `source venv/bin/activate`.
***
### To operate this application, you'll require your own ChatGPT API key.
For security reasons, the key must be set as an environment variable named `OPENAI_API_KEY`.
#### For Windows Command Prompt: `set OPENAI_API_KEY=your_api_key_here`.
#### For macOS or Linux: `export OPENAI_API_KEY=your_api_key_here`.
#### For Windows Powershell: `$env:OPENAI_API_KEY="your_api_key_here"`.
***
*(Optional)* To validate your key has indeed been set as an environment variable, you may use the following:
#### For Windows Command Prompt: `echo %OPENAI_API_KEY%`.
#### For macOS or Linux: `echo $OPENAI_API_KEY`.
#### For Windows Powershell: `echo $env:OPENAI_API_KEY`
***
#### You'll need to place `doc.x` Word Documents in the `\documents` directory, this folder is placed alongside the directory source code.

## Running the App With Docker:
Package the Dockerfile as follows, make sure you are within the directory of the app, and that the key is now an environment variable:

`docker-compose build`

Use the following command to run the service:
`docker-compose up -d`.

After doing this, the App will run, and you can now ask questions.
I recommend asking questions through `curl` if Docker was used.
- You can type this in **cmd**: 
`curl -X POST http://localhost:5000/ask -H "Content-Type: application/json" -d "{\"question\":\"What's this document?\"}"`
Whilst replacing `What's this document?` with your question.

To shut the App down, use:
`docker-compose down`.

***
## Running the App Without Docker:
Before running the application, make sure you have the following installed:

- Python 3.x
- Flask
- python-docx
- requests

You can install the required Python packages using pip:

```bash
pip install -r requirements.txt
```

## Usage

### Running the Flask Application

1. Clone this repository to your local machine.

2. Navigate to the project directory in your terminal.

3. Start the Flask application by running the following command:

```bash
python app.py
```

4. The Flask application will start running on `http://localhost:5000/`.

### Asking Questions
Before asking questions, please ensure the Flask application is running.
***
- You can type this in **cmd**: 
`curl -X POST http://localhost:5000/ask -H "Content-Type: application/json" -d "{\"question\":\"What's this document?\"}"`
Whilst replacing `What's this document?` with your question.
- Alternatively, to your comfort I have written a script to do this via Python.  To ask a question, you can use the provided `ask_question.py` script. Follow these steps:


1. Open a new terminal window.

2. Navigate to the project directory if you're not already there.

3. Run the following command:
```bash
python ask_question.py
```
4. Type your question or request when prompted and press Enter.

## File Structure

- `app.py`: Flask application code for handling HTTP requests and generating responses.
- `ask_question.py`: Script to interact with the Flask API and ask a question.
- `README.md`: Documentation explaining how to operate the code and what it does.
- `requirements.txt`: Required Python packages and their versions.
- `Dockerfile`: Builds a Docker image for the Flask application, specifying dependencies and configurations.
- `docker-compose.yml`: The file required to package the App through docker-compose.